(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{21:function(e,t,n){},27:function(e,t,n){e.exports=n(45)},32:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(23),s=n.n(o),i=(n(32),n(12)),c=n(13),u=n(15),l=n(14),m=n(10),p=n(16),f="https://pokeapi.co/api/v2/pokemon-species?limit=807",h=function(e){return e.results.map((function(e,t){return{id:t,name:e.name,url:e.url}}))};var v=function(){return fetch(f).then((function(e){return e.json()})).then((function(e){return h(e)})).catch((function(e){return console.log("Fetch error: "+e)}))},d=n(6),_=(n(21),function(e){var t=e.pokemon;return console.log(t),r.a.createElement(d.b,{to:"/info/".concat(t.name),key:"info"+t.id},r.a.createElement("li",{className:"poke__list_item"},r.a.createElement("small",{className:"poke__list_number"},t.id),r.a.createElement("img",{src:t.frontImage,alt:t.name,className:"poke__list_defaultimg"}),r.a.createElement("h5",{className:"poke__list_name"},t.name),r.a.createElement("div",{className:"poke__list_evolve_wrapper"},r.a.createElement("p",null,"Evoluciona en:"),r.a.createElement("p",null,t.chain?t.chain.evolves_to.map((function(e){return e.species.name})):t.evolution)),r.a.createElement("ul",{className:"poke__list_types_typeslist"},t.types.map((function(e){return r.a.createElement("li",{className:"poke__list_types_itemtypes ".concat(e),key:e},e)})))))}),k=function(e){var t=e.pokemons;return r.a.createElement("ul",{className:"poke__list"},t.map((function(e){return r.a.createElement(_,{pokemon:e,key:e.id})})))},g=(n(38),n(39),function(e){var t=e.namesSuggestions,n=e.userQuery,a=e.handleSuggestedName,o=t.map((function(e){return e[1]}));if(""!==n)return r.a.createElement("ul",{className:"filter__suggestions_list"},o.filter((function(e){return e.includes(n.toLowerCase())})).map((function(e){return console.log(e),r.a.createElement(d.b,{to:"/info/".concat(e)},r.a.createElement("li",{className:"filter__suggestions_list_item",key:e[1],onClick:a,"data-id":e},e))})))}),E=function(e){var t=e.handleSearch,n=e.allPokemonsNames,a=e.handleAutoSearch,o=e.userQuery,s=e.handleSuggestedName;return r.a.createElement("form",{className:"poke__form",onSubmit:t},r.a.createElement("div",{className:"filter__suggestions_inputName_wrapper"},r.a.createElement("input",{type:"text",className:"filter__suggestions_inputName",onChange:a,placeholder:"Pikachu"}),""===o?r.a.createElement("label",{className:"filter__suggestions_inputName_label"},"Ej: Pikachu"):"",""!==o?r.a.createElement(g,{namesSuggestions:n,userQuery:o,handleSuggestedName:s}):""))},b=n(7),y=n(3),j=n.n(y),N=n(9);function O(e){var t=[],n=!0,a=!1,r=void 0;try{for(var o,s=e.varieties[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var i=o.value;!0===i.is_default&&t.push(i.pokemon.url)}}catch(c){a=!0,r=c}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}return{id:e.id,name:e.name,evolution_chain:e.evolution_chain.url,pokemonURL:t}}function S(e){return P.apply(this,arguments)}function P(){return(P=Object(N.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map(function(){var e=Object(N.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(t.evolution_chain).then((function(e){return e.json()})).then((function(e){var n={};return e.chain.evolves_to.length?(Object.assign(n,{firstEvolve:e.chain.species.name}),Object.assign(n,{secondEvolve:e.chain.evolves_to[0].species.name}),e.chain.evolves_to[0].evolves_to.length&&Object.assign(n,{thirdEvolve:e.chain.evolves_to[0].evolves_to[0].species.name})):Object.assign(n,{firstEvolve:"No evoluciona"}),Object.assign(t,n)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(N.a)(j.a.mark((function e(t){var n,a,r,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Promise.all(t.map((function(e){return fetch(e.url).then((function(e){return e.json()})).then((function(e){return O(e)}))}))),e.next=3,n;case 3:return a=e.sent,e.next=6,s=a,Promise.all(s.map(function(){var e=Object(N.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch(t.pokemonURL).then((function(e){return e.json()})).then((function(e){var t=e.types.map((function(e){return e.type.name}));return{frontImage:e.sprites.front_default,types:t}})),e.next=3,n;case 3:return a=e.sent,e.abrupt("return",Object.assign(t,a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:return r=e.sent,e.next=9,S(r);case 9:return o=e.sent,e.abrupt("return",o);case 11:case"end":return e.stop()}var s}),e)})))).apply(this,arguments)}var x=function(e){return w.apply(this,arguments)},A=(n(41),function(e){var t=e.pokemonObj;return console.log(t),r.a.createElement("section",{className:"detail__wrapper"},r.a.createElement("p",null,t.id),r.a.createElement("h4",{className:"detail__name"},t.name))}),C=n(26);function L(e){return{id:e.id,name:e.name,evolution:e.evolution_chain.url,url:e.varieties.map((function(e){if(e.is_default)return e.pokemon.url})).join()}}function D(){return(D=Object(N.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://pokeapi.co/api/v2/pokemon-species/".concat(t),e.abrupt("return",fetch(n).then((function(e){return e.json()})).then((function(e){return L(e)})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q=function(e){return D.apply(this,arguments)},I=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={pokemon:[]},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;Q(this.props.selectedPokemon).then((function(t){return e.setState({pokemon:t})}))}},{key:"render",value:function(){console.log(this.props);var e=this.state.pokemon;return console.log(e),Object(C.isArray)(e)?"Cargando info...":r.a.createElement(A,{pokemonObj:e})}}]),t}(r.a.Component),J=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).state={allPokemons:[],userPokemon:"",detailPokemons:[],limit:24},e.handleAutoSearch=e.handleAutoSearch.bind(Object(m.a)(e)),e.renderExploreList=e.renderExploreList.bind(Object(m.a)(e)),e.renderDetail=e.renderDetail.bind(Object(m.a)(e)),e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleSearch",value:function(e){e.preventDefault(),console.log("Enviar formulario")}},{key:"handleAutoSearch",value:function(e){var t=this.state,n=t.allPokemons;t.limit,t.userPokemon;this.setState({userPokemon:e.target.value.toLowerCase()});var a=n.filter((function(t){return t.name.includes(e.target.value.toLowerCase())}));x([a])}},{key:"componentDidMount",value:function(){var e=this;v().then((function(e){return Promise.all(e)})).then((function(t){return e.setState({allPokemons:t}),t})).then((function(t){var n=t.slice(0,e.state.limit);return x(n)})).then((function(t){return e.setState({detailPokemons:t})}))}},{key:"renderExploreList",value:function(){var e=this.state.detailPokemons;return 0!==e.length?r.a.createElement(k,{pokemons:e}):"Cargando..."}},{key:"renderDetail",value:function(e){console.log(e);var t=e.match.params.name;return r.a.createElement(I,{selectedPokemon:t})}},{key:"render",value:function(){var e=this.state,t=e.allPokemons,n=e.userPokemon;return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(d.b,{to:"/"},r.a.createElement("h1",{className:"poke__title"},"Pok\xe9dex"))),r.a.createElement("div",{className:"poke__main_wrapper"},r.a.createElement(E,{handleSearch:this.handleSearch,handleSuggestedName:this.handleSuggestedName,handleAutoSearch:this.handleAutoSearch,allPokemonsNames:t.map((function(e){return[e.id,e.name]})),userQuery:n}),r.a.createElement("section",{className:"poke__main"},r.a.createElement(b.c,null,r.a.createElement(b.a,{exact:!0,path:"/",render:this.renderExploreList}),r.a.createElement(b.a,{path:"/info/:name",render:this.renderDetail})))))}}]),t}(r.a.Component);s.a.render(r.a.createElement(d.a,null," ",r.a.createElement(J,null)," "),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.da349f26.chunk.js.map